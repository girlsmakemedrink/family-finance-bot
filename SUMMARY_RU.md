# –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π - –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º 1-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞, –±—ã–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.

## üìä –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç—á–µ—Ç–∞ –≤–∫–ª—é—á–∞–µ—Ç:

### 1. **–û–±—â–∞—è —Å—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤**
```
üí∞ –û–±—â–∞—è —Å—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤: 45,500 ‚ÇΩ
```

### 2. **–†–∞—Å—Ö–æ–¥—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏**
–î–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∏–∫–æ–Ω–∫–æ–π
- –°—É–º–º–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–π —Å—É–º–º—ã
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–æ–ª–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```
üõí –ü—Ä–æ–¥—É–∫—Ç—ã
üíµ 18,000 ‚ÇΩ (39.6%)
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
```

### 3. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ 10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤:
- –î–∞—Ç–∞ —Ä–∞—Å—Ö–æ–¥–∞
- –°—É–º–º–∞
- –û–ø–∏—Å–∞–Ω–∏–µ
```
üìù –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è:
  ‚Ä¢ 31.10.2025: 1,500 ‚ÇΩ - –ü–æ–∫—É–ø–∫–∞ –≤ –ü—è—Ç–µ—Ä–æ—á–∫–µ
  ‚Ä¢ 28.10.2025: 2,300 ‚ÇΩ - –ú–∞–≥–∞–∑–∏–Ω –ê—à–∞–Ω
  ‚Ä¢ 25.10.2025: 1,800 ‚ÇΩ - –§—Ä—É–∫—Ç—ã –∏ –æ–≤–æ—â–∏
```

### 4. **–î–∏–∞–≥—Ä–∞–º–º–∞ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º**
–í –∫–æ–Ω—Ü–µ –æ—Ç—á–µ—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞:
```
üìä –î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤:

üõí –ü—Ä–æ–¥—É–∫—Ç—ã
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 39.6%

üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 26.4%

üè† –î–æ–º
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 15.2%
```

## üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`family_finance_bot/bot/database/crud.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_user_expenses_detailed_monthly_report()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

2. **`family_finance_bot/bot/scheduler.py`**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `send_monthly_summary()` –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `send_long_message()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª–∏–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `check_and_send_monthly_summaries()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
cd "/Users/kirillterskih/finance calculator"
source venv/bin/activate

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
python test_monthly_report.py list

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç —Å–µ–±–µ (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_TELEGRAM_ID)
python test_monthly_report.py test YOUR_TELEGRAM_ID
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: —Å–º. —Ñ–∞–π–ª [TESTING_MONTHLY_REPORT.md](./TESTING_MONTHLY_REPORT.md)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ñ–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

–ú–µ—Å—è—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è:
- 1-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞
- –í 09:00 (–∏–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤—Ä–µ–º—è)
- –í—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –º–µ—Å—è—á–Ω—ã–º–∏ –æ—Ç—á–µ—Ç–∞–º–∏

## üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞

–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
cd "/Users/kirillterskih/finance calculator"
./RESTART_BOT.sh
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd:
```bash
sudo systemctl restart family-finance-bot
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[MONTHLY_REPORT_UPDATE.md](./MONTHLY_REPORT_UPDATE.md)** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **[TESTING_MONTHLY_REPORT.md](./TESTING_MONTHLY_REPORT.md)** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–†–∞—Å—Ö–æ–¥—ã –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é**: –ú–∞–∫—Å–∏–º—É–º 10 —Ä–∞—Å—Ö–æ–¥–æ–≤ (–µ—Å–ª–∏ –±–æ–ª—å—à–µ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫)
2. **–î–ª–∏–Ω–∞ –æ–ø–∏—Å–∞–Ω–∏—è**: –î–æ 50 —Å–∏–º–≤–æ–ª–æ–≤ (–¥–ª–∏–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –æ–±—Ä–µ–∑–∞—é—Ç—Å—è)
3. **–î–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏ –µ—Å–ª–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç Telegram (4096 —Å–∏–º–≤–æ–ª–æ–≤)

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- `telegram` - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- `sqlalchemy` - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã: `format_amount`, `format_date`, `create_text_bar`

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

1. **–ü–æ–ª–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∫–∞–∂–¥—ã–π —Ä–∞—Å—Ö–æ–¥
2. **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** - –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–µ–ª–∞—é—Ç –æ—Ç—á–µ—Ç –±–æ–ª–µ–µ –Ω–∞–≥–ª—è–¥–Ω—ã–º
3. **–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ** - –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤
4. **–ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å** - –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é, –æ—Ç—á–µ—Ç –æ—Å—Ç–∞–µ—Ç—Å—è —á–∏—Ç–∞–µ–º—ã–º
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ** - –¥–ª–∏–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ
**–†–µ—à–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–µ–π `send_long_message()`

### –ú–Ω–æ–≥–æ —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 10, –æ—Å—Ç–∞–ª—å–Ω—ã–µ - —Å—á–µ—Ç—á–∏–∫–æ–º

### –ù–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤ –∑–∞ –º–µ—Å—è—Ü
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–í –ø—Ä–æ—à–ª–æ–º –º–µ—Å—è—Ü–µ –Ω–µ –±—ã–ª–æ —Ä–∞—Å—Ö–æ–¥–æ–≤!"

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `/Users/kirillterskih/finance calculator/family_finance_bot/logs/bot.log`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Ñ–∞–π–ª–∞—Ö –≤—ã—à–µ

---

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π**: 16 –Ω–æ—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è**: 2.0 (–ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á–µ—Ç)

